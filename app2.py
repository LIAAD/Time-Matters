
text= "2011 Haiti knowlage Earthquake Anniversary. 2002 2006 As of 2010 (see 1500 photos here), the following major earthquakes "\
    "have been recorded in Haiti. The first great earthquake mentioned in histories of Haiti occurred in "\
    "1564 in what was now still the Spanish colony. It destroyed Concepción de la Vega. On January 12, 2010, "\
    "a massive earthquake struck the nation of Haiti, causing catastrophic damage inside and around the "\
    "capital city of Port-au-Prince. On the first anniversary of the earthquake, 12 January 2011, "\
    "Haitian Prime Minister Jean-Max Bellerive said the death toll from the quake in 2010 was more "\
    "than 316,000, raising the figures in 2010 from previous estimates. I immediately flashed back to the afternoon "\
    "of February 11, 1975 when, on  my car radio, I first heard the news. Yesterday..."

t = "Foi considerado pela IFFHS como o 2000 to 2001 nono melhor clube europeu do século XX[4][5] e foi eleito pela FIFA o 12.º maior clube de futebol do século XX, sendo o primeiro entre os clubes portugueses.[6] O Benfica é o clube mais bem sucedido em Portugal (79 títulos), e um total de 81, incluindo as provas internacionais, sendo o único clube que ganhou todas as competições portuguesas. O Benfica ganhou 36 títulos da Primeira Liga,[7] 26 Taças de Portugal (4 das quais consecutivas) – com um recorde de 10 dobradinhas – 7 Taças da Liga (4 das quais consecutivas), 7 Supertaças Cândido de Oliveira e 3 Campeonatos de Portugal (com um recorde de 2 consecutivos).[8] Em 2014, o Benfica conquistou o inédito triplo (triplete) da Primeira Liga, Taça de Portugal e Taça da Liga.[9][10] Também ganhou a Supertaça, tornando-se o único clube a ganhar os quatro títulos domésticos num ano.[11][12] Além disso, é também o único clube que ganhou mais vezes a Primeira Liga e a Taça da Liga num único ano. O Benfica tornou-se a primeira equipa portuguesa na história dos campeonatos a completar 30 jogos sem perder, nomeadamente nas épocas 1972–73 e 1977–78. Também na época 72-73, o Benfica conseguiu a maior diferença de sempre de pontos do campeão para o segundo classificado (18), num sistema em que era atribuído 2 pontos por cada vitória.[13] O Benfica também tem o recorde europeu para o numero de vitórias consecutivas numa liga domestica (29), entre 1971–72 e 1972–73, assim como o recorde de maior numero de jogos sem derrotas (56), entre 1976–77 e 1978–79.[14][15] Segundo a BBDO, a marca Benfica ocupava, em 2007, a 17.ª posição das marcas de futebol mais valiosas da Europa"

tex = '''
over 55 years Thurs-world, August 31st - 2000 to 2001 News today.  2005-03-02 over 55 years that they. In the period in which the thesis was done (1999-2002) there was virtually no extant literature, are beginning to evacuate 2009/2010 the London children tomorrow 2009/2010. 2 march 2005 over 55 years 2005-03-02 Percy is a  (2029), billeting officer. I can't see that they will be much safer here.
'''
textttt = '''
Thurs August 31st - News today that they are beginning to evacuate the London children tomorrow. Percy is a billeting officer. I can't see that they will be much safer here.
'''

tt = '''
In 2019 sport lisboa benfica . won the portuguese championship . for the 37th, time at season 2018-2019 . sporting clube da Covilhã, commonly known as just sporting da Covilhã, is portuguese football club from the city of Covilhã that plays in the second-tier LigaPro. The club was founded in 1923.'''
from Time_Matters_SingleDoc import Time_Matters_SingleDoc
ttt = "great earthquake mentioned ricardo nuno"
t_file = open('boston marathon bombings_2.txt').read()
t_file = open('dan.txt').read()

tttt='''I born at Portugal today present. Born and raised on the Portuguese island of today Madeira, Ronaldo was diagnosed with a racing heart at age 15. He underwent an operation to treat his condition, and began his senior club career playing for Sporting CP, before signing with Manchester United at age 18 in 2003.
As a child, Born Ronaldo played for amateur team Andorinha from 1992 to 1995,[14] where his father was the kit man,[15] ronaldo and later 2003 spent two years with Nacional. In 1997, aged 12, he went on a three-day trial with Sporting CP, who signed him for a fee of £1,500.[16][17] He subsequently moved from Madeira to Alcochete, near Lisbon, to join Sporting's other youth players at the club's football academy.
'''

list_docs = [tttt,tt, textttt, tex, text, t_file]
example = '''"Conta-me Histórias." Xutos inspiram projeto premiado. A plataforma "Conta-me Histórias" foi distinguida com o Prémio Arquivo.pt, atribuído a trabalhos inovadores de investigação ou aplicação de recursos preservados da Web, através dos serviços de pesquisa e acesso disponibilizados publicamente pelo Arquivo.pt .
Nesta plataforma em desenvolvimento, o utilizador pode pesquisar sobre qualquer tema e ainda executar alguns exemplos predefinidos. Como forma de garantir a pluralidade e diversidade de fontes de informação, esta são utilizadas 24 fontes de notícias eletrónicas, incluindo a TSF. Uma versão experimental (beta) do "Conta-me Histórias" está disponível aqui.
A plataforma foi desenvolvida por Ricardo Campos investigador do LIAAD do INESC TEC e docente do Instituto Politécnico de Tomar, Arian Pasquali e Vitor Mangaravite, também investigadores do LIAAD do INESC TEC, Alípio Jorge, coordenador do LIAAD do INESC TEC e docente na Faculdade de Ciências da Universidade do Porto, e Adam Jatwot docente da Universidade de Kyoto.'''

example2 = '''A falta de vias que permitem aos animais migrarem para 'habitats' mais frescos significa que o aquecimento global vai levar "à extinção de espécies vulneráveis numa escala local mas também global". A desflorestação tropical galopante, combinada com as alterações climáticas, impede que as espécies selvagens se movam para climas mais frescos, aumentando o risco de extinção a que estão sujeitos, alertaram esta segunda-feira investigadores. Menos de dois quintos das florestas da América Latina, da Ásia e de África permitem hoje aos animais e plantas escapar aos aumentos de temperatura potencialmente intoleráveis, sublinham investigadores numa publicação na revista Nature Climate Change.
“O desaparecimento de florestas tropicais entre 2000 e 2012 levou à perda de uma superfície superior ao tamanho da Índia que protegia as espécies dos efeitos das alterações climáticas”, disse Rebecca Senior, professora da Universidade de Sheffield (Inglaterra), acrescentando, citada pela AFP, que a perda da floresta suprime o ‘habitat’ e torna mais difícil a movimentação das espécies para ‘habitats’ alternativos.
A falta de vias que permitam aos animais migrarem para ‘habitats’ mais frescos significa que o aquecimento global “resultará provavelmente na extinção de espécies vulneráveis numa escala local mas também global”, referiu a responsável. Ao ritmo atual das alterações climáticas os animais e as plantas tropicais, mesmo que se consigam mudar para zonas atualmente mais frescas, poderão estar expostos em 2070 a um ambiente 2,7 graus celsius mais quente comparado com a segunda metade do século XX.
No cenário mais favorável, com a humanidade a conseguir limitar o aquecimento do planeta a 2ºC em relação à época pré-industrial (uma perspetiva cada vez mais improvável) as espécies das regiões tropicais teriam sempre de enfrentar um aumento de 0,8 graus em 2070, segundo o estudo.
O aumento de um grau desde a revolução industrial já aumentou a frequência e a intensidade das vagas de calor, das secas e das tempestades tropicais.
Em anteriores alterações climáticas as espécies animais e vegetais puderam sempre subir ou descer montanhas, aproximar-se ou afastar-se dos polos, ou dirigir-se para águas mais frias ou mais quentes. Mas essas alterações raramente foram tão rápidas e nunca foram combinadas com uma fragmentação extrema dos habitats. “As espécies tropicais são particularmente sensíveis às mudanças de temperatura”, disse Rebecca Senior, explicando que a maior parte dessas espécies não se encontra em qualquer outro lugar do mundo e que constituem uma “proporção enorme da biodiversidade mundial”.
Muitos estudos já mostraram até que ponto o aumento das temperaturas obrigou a fauna e flora a adaptarem o comportamento de maneira a conservar a capacidade de se alimentar e de reproduzir.
Segundo um estudo recente, diz a AFP, certos colibris tropicais viram-se obrigados a procurar sombra em horas em que costumavam estar a procurar alimento.
Na lista de espécies vulneráveis à seca e temperaturas extremas da União Internacional para a Conservação da Natureza (UICN) estão cerca de 550 espécies, a maioria ameaçada de extinção.
Estão nessa lista mamíferos como os jaguares ou as lontras gigantes mas os investigadores notam que os anfíbios são particularmente vulneráveis, porque vivem em habitats especiais e são muito sensíveis a aumentos de temperatura.'''

example3 = '''Italiano David Sassoli eleito presidente do Parlamento Europeu. Como ficou acordado entre os 28, Sassoli será presidente na primeira metade do mandato, cedendo o cargo a um membro do Partido Popular Europeu ao fim de dois anos e meio. O socialista italiano David-Maria Sassoli​ foi eleito presidente do Parlamento Europeu para os próximos dois anos e meio, com uma maioria absoluta de 345 votos.
Mais populares Sassoli é o novo presidente do Parlamento Europeu, saúdo-o e convido-o a assumir a presidência”, disse Antonio Tajani, que está de saída do cargo.
O italiano, de 63 anos, foi eleito após duas rondas de votações pelos deputados, na primeira sessão plenária da assembleia que resultou das eleições de Maio. Antigo jornalista de Florença, Sassoli é deputado do Parlamento Europeu desde Julho de 2009.
Na terça-feira à noite, poucas horas depois do acordo sobre a distribuição dos cargos de topo da União Europeia decidido em Bruxelas pelos chefes de Estado e de Governo dos 28, que atribui aos socialistas a presidência do Parlamento Europeu na primeira metade da legislatura (dois anos e meio), o grupo dos socialistas e democratas (S&D) escolheu Sassoli, até agora um dos vice-presidentes da assembleia europeia. O grupo socialista ignorou assim a recomendação de Bruxelas, que apontava para o nome do búlgaro Sergei Stanishev, presidente do Partido Socialista Europeu (PSE).
Apesar de se apresentarem outros três candidatos à presidência do Parlamento Europeu — a alemã Ska Keller, pelos Verdes; a espanhola Sira Rego, do Grupo da Esquerda Unitária; e o checo Jan Zahradil, pelos Conservadores e Reformistas Europeus —, era praticamente certa a eleição de Sassoli, dado o entendimento entre as três maiores famílias políticas europeias.
Face a esse entendimento, que prevê que na segunda metade do mandato seja um membro do Partido Popular Europeu a ocupar a presidência do Parlamento Europeu, as bancadas do PPE e do Renovar a Europa (liberais), primeira e terceira maiores dos hemiciclos, não apresentaram candidatos à eleição desta quarta-feira.
Ao fim de uma maratona negocial, que se prolongou em Bruxelas ao longo de três dias, os chefes de Estado e de Governo da União Europeia chegaram a acordo sobre as nomeações para os cargos institucionais de topo, designando a alemã Ursula von der Leyen para a presidência da Comissão Europeia.
O compromisso entre os 28 contempla ainda a nomeação do primeiro-ministro belga em funções, o liberal Charles Michel, para a presidência do Conselho Europeu; do ministro espanhol dos Negócios Estrangeiros, o socialista Josep Borrell, como alto-representante da UE para a Política Externa; e ainda da francesa Christine Lagarde para o Banco Central Europeu.
Não cabendo ao Conselho a responsabilidade da escolha do presidente do Parlamento Europeu, ficou, todavia, acordado o modelo, seguido há muito, de repartição da presidência da assembleia entre as duas maiores famílias políticas.
Para ser eleito, um candidato tem de obter a maioria absoluta dos votos expressos, ou seja, pelo menos 50% mais um — os votos brancos ou nulos não são tidos em conta para calcular a maioria necessária.'''

example4 = '''As a child, 2003. Born Ronaldo played for amateur team Andorinha from 1992 to 1995,[14] where his father was the kit man,[15] ronaldo and later 2003 spent two years with Nacional.'''
import os
path = 'text_dir'

core = Time_Matters_SingleDoc(t_file, temporal_tagger=['py_heideltime'], debug_mode=True)

#print(TextNormalized)
#print(TempExpressions)
print(core[0])
print(core[-1])
#Score, TempExpressions, RelevantKWs, TextNormalized, TextTokens, SentencesNormalized, SentencesTokens = Time_Matters_SingleDoc(t_file, temporal_tagger=['py_heideltime', 'English', 'year'])
#print(RelevantKWs)

#print(inverted_index)
import pandas as pd
pd.set_option('display.max_columns', 1000)
#print(DiceMatrix)
#for lt in list_docs:
#    print('TEXT Nº ', list_docs.index(lt))
#    for t in range(1,15):
#        Score, TempExpressions, RelevantKWs, TextNormalized, TextTokens, SentencesNormalized, SentencesTokens, inverted_index, DiceMatrix, ExecTimeDictionary = Time_Matters_SingleDoc(
#        lt, time_matters=[1, 10, t], temporal_tagger=['py_heideltime'], score_type='ByDoc', debug_mode=True)

#        for i in Score:
#            print(i)
#            print(Score[i][0])
#            if Score[i][0] > 1:
#                print('*************************** ALERT VALUE > 1 ***********************')
#                exit(0)



#print(DiceMatrix)
#print(TextNormalized)
#print(inverted_index)
#print(TextNormalized)
# NormalizedText, final_score_output, candidate_dates_list, words_array, inverted_index, DiceMatrix, execution_time_list = Time_Matters_SingleDoc(txt, temporal_tagger=['rule_based'], time_matters=[10,  'full_sentence'], score_type='ByDoc', debug_mode=True)

# {'2011': {0: [0.831]}, '2010': {1: [0.2], 5: [0.982]}, '1564': {2: [0.827]},
# '2010-01-12': {4: [0.68]}, '2011-01-12': {5: [1.0]}, '1975-02-11taf': {6: [0]}, '1975-02-10': {7: [0]}}

# {'2010': [1.0, [6, 87, 96]], '12_January_2011': [1.0, [73]], 'January_12,_2010': [0.7425, [46]], '2011': [0.667, [0]], '1564': [0.498, [31]], 'the_afternoon_of_February_11,_1975': [0, [105]], 'Yesterday': [0, [116]]}


#print(words_array)s

#print(DiceMatrix)



# {'2011': {0: [0.846, [0]]}, '2010-01-12': {0: [0.805, [2, 4]], 7: [0, [118]]}, 'January_12,_2010': {4: [0.8, [48]]}, '2010': {1: [0.0, [8]], 5: [0.943, [89, 98]]}, '1564': {2: [0.836, [33]]}, '12_January_2011': {5: [0.943, [75]]}, 'the_afternoon_of_February_11,_1975': {6: [0, [107]]}, 'Yesterday': {7: [0, [119]]}}
